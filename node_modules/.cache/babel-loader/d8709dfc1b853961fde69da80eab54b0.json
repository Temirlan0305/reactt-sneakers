{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchProductBasket = createAsyncThunk('basketSlice/fetchProductBasket', async () => {\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n}); // export const addProductBasket = createAsyncThunk('basketSlice/addProductBasket', async (params) => {\n//   const obj = params;\n//   await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n//   const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n//   return data;\n// });\n// export const delProductBasket = createAsyncThunk('basketSlice/delProductBasket', async (params) => {\n//   const id = params;\n//   const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n//   await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n//   return data;\n// });\n\nconst initialState = {\n  basketItems: [],\n  basketStatus: 'loading',\n  isAdded: false\n};\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.items = action.payload;\n    },\n    addItems: (state, action) => {\n      const obj = action.payload;\n      axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n    },\n    delItems: (state, action) => {\n      const id = action.payload;\n      axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n      state.basketItems = state.basketItems.filter(item => item.id !== id);\n    },\n    setIsAdded: (state, action) => {\n      if (state.basketItems) state.isAdded = state.basketItems.some(item => Number(item.productId) === Number(action.payload));\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = 'success';\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'loading';\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'error';\n    });\n  }\n});\nexport const {\n  setItems,\n  addItems,\n  delItems,\n  setIsAdded\n} = ProductSlice.actions;\nexport default ProductSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","fetchProductBasket","data","get","initialState","basketItems","basketStatus","isAdded","ProductSlice","name","reducers","setItems","state","action","items","payload","addItems","obj","post","delItems","id","delete","filter","item","setIsAdded","some","Number","productId","extraReducers","builder","addCase","fulfilled","pending","rejected","actions","reducer"],"sources":["/Users/temirlan.kanafin/Desktop/git projects/reactt-sneakers/src/components/redux/slices/basketSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const fetchProductBasket = createAsyncThunk('basketSlice/fetchProductBasket', async () => {\n  const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\n\n// export const addProductBasket = createAsyncThunk('basketSlice/addProductBasket', async (params) => {\n//   const obj = params;\n//   await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n//   const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n//   return data;\n// });\n\n// export const delProductBasket = createAsyncThunk('basketSlice/delProductBasket', async (params) => {\n//   const id = params;\n//   const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n//   await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n//   return data;\n// });\n\nconst initialState = {\n  basketItems: [],\n  basketStatus: 'loading',\n  isAdded: false,\n};\n\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.items = action.payload;\n    },\n    addItems: (state, action) => {\n      const obj = action.payload;\n      axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n    },\n    delItems: (state, action) => {\n      const id = action.payload;\n      axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n      state.basketItems = state.basketItems.filter((item) => item.id !== id);\n    },\n    setIsAdded: (state, action) => {\n      if (state.basketItems)\n      state.isAdded = state.basketItems.some(\n        (item) => Number(item.productId) === Number(action.payload),\n      );\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = 'success';\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'loading';\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'error';\n    });\n  },\n});\n\nexport const { setItems, addItems, delItems, setIsAdded } = ProductSlice.actions;\nexport default ProductSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,kBAAkB,GAAGH,gBAAgB,CAAC,gCAAD,EAAmC,YAAY;EAC/F,MAAM;IAAEI;EAAF,IAAW,MAAMF,KAAK,CAACG,GAAN,CAAU,kDAAV,CAAvB;EACA,OAAOD,IAAP;AACD,CAHiD,CAA3C,C,CAKP;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,YAAY,GAAG;EACnBC,WAAW,EAAE,EADM;EAEnBC,YAAY,EAAE,SAFK;EAGnBC,OAAO,EAAE;AAHU,CAArB;AAMA,OAAO,MAAMC,YAAY,GAAGT,WAAW,CAAC;EACtCU,IAAI,EAAE,SADgC;EAEtCL,YAAY,EAAEA,YAFwB;EAGtCM,QAAQ,EAAE;IACRC,QAAQ,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC3BD,KAAK,CAACE,KAAN,GAAcD,MAAM,CAACE,OAArB;IACD,CAHO;IAIRC,QAAQ,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MAC3B,MAAMI,GAAG,GAAGJ,MAAM,CAACE,OAAnB;MACAf,KAAK,CAACkB,IAAN,CAAW,kDAAX,EAA+DD,GAA/D;IACD,CAPO;IAQRE,QAAQ,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;MAC3B,MAAMO,EAAE,GAAGP,MAAM,CAACE,OAAlB;MACAf,KAAK,CAACqB,MAAN,CAAc,oDAAmDD,EAAG,EAApE;MACAR,KAAK,CAACP,WAAN,GAAoBO,KAAK,CAACP,WAAN,CAAkBiB,MAAlB,CAA0BC,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYA,EAA/C,CAApB;IACD,CAZO;IAaRI,UAAU,EAAE,CAACZ,KAAD,EAAQC,MAAR,KAAmB;MAC7B,IAAID,KAAK,CAACP,WAAV,EACAO,KAAK,CAACL,OAAN,GAAgBK,KAAK,CAACP,WAAN,CAAkBoB,IAAlB,CACbF,IAAD,IAAUG,MAAM,CAACH,IAAI,CAACI,SAAN,CAAN,KAA2BD,MAAM,CAACb,MAAM,CAACE,OAAR,CAD7B,CAAhB;IAGD;EAlBO,CAH4B;EAuBtCa,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgB7B,kBAAkB,CAAC8B,SAAnC,EAA8C,CAACnB,KAAD,EAAQC,MAAR,KAAmB;MAC/DD,KAAK,CAACP,WAAN,GAAoBQ,MAAM,CAACE,OAA3B;MACAH,KAAK,CAACN,YAAN,GAAqB,SAArB;IACD,CAHD;IAIAuB,OAAO,CAACC,OAAR,CAAgB7B,kBAAkB,CAAC+B,OAAnC,EAA4C,CAACpB,KAAD,EAAQC,MAAR,KAAmB;MAC7DD,KAAK,CAACP,WAAN,GAAoB,EAApB;MACAO,KAAK,CAACN,YAAN,GAAqB,SAArB;IACD,CAHD;IAIAuB,OAAO,CAACC,OAAR,CAAgB7B,kBAAkB,CAACgC,QAAnC,EAA6C,CAACrB,KAAD,EAAQC,MAAR,KAAmB;MAC9DD,KAAK,CAACP,WAAN,GAAoB,EAApB;MACAO,KAAK,CAACN,YAAN,GAAqB,OAArB;IACD,CAHD;EAID;AApCqC,CAAD,CAAhC;AAuCP,OAAO,MAAM;EAAEK,QAAF;EAAYK,QAAZ;EAAsBG,QAAtB;EAAgCK;AAAhC,IAA+ChB,YAAY,CAAC0B,OAAlE;AACP,eAAe1B,YAAY,CAAC2B,OAA5B"},"metadata":{},"sourceType":"module"}