{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchProduct = createAsyncThunk('productSlice/fetchProduct', async () => {\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/itemsSneakers');\n  return data;\n});\nexport const fetchProductBasket = createAsyncThunk('productSlice/fetchProductBasket', async () => {\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nexport const addProductBasket = createAsyncThunk('productSlice/fetchProductBasket', async params => {\n  const obj = params;\n  await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nexport const delProductBasket = createAsyncThunk('productSlice/delProductBasket', async params => {\n  const id = params;\n  await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nconst initialState = {\n  items: [],\n  basketItems: [],\n  status: 'loading',\n  basketStatus: 'loading',\n  isAdded: false\n};\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.items = action.payload;\n      console.log('asas', action);\n    },\n    setIsAdded: (state, action) => {\n      state.isAdded = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = 'success';\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'loading';\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'error';\n    });\n  }\n});\nexport const {\n  setItems,\n  setIsAdded\n} = ProductSlice.actions;\nexport default ProductSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","fetchProduct","data","get","fetchProductBasket","addProductBasket","params","obj","post","delProductBasket","id","delete","initialState","items","basketItems","status","basketStatus","isAdded","ProductSlice","name","reducers","setItems","state","action","payload","console","log","setIsAdded","extraReducers","builder","addCase","fulfilled","pending","rejected","actions","reducer"],"sources":["/Users/temirlan.kanafin/Desktop/git projects/reactt-sneakers/src/components/redux/slices/basketSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const fetchProduct = createAsyncThunk('productSlice/fetchProduct', async () => {\n  const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/itemsSneakers');\n  return data;\n});\n\nexport const fetchProductBasket = createAsyncThunk('productSlice/fetchProductBasket', async () => {\n  const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\n\nexport const addProductBasket = createAsyncThunk(\n  'productSlice/fetchProductBasket',\n  async (params) => {\n    const obj = params;\n    await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n    const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n    return data;\n  },\n);\n\nexport const delProductBasket = createAsyncThunk(\n  'productSlice/delProductBasket',\n  async (params) => {\n    const id = params;\n    await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n    const { data } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n    return data;\n  },\n);\n\nconst initialState = {\n  items: [],\n  basketItems: [],\n  status: 'loading',\n  basketStatus: 'loading',\n  isAdded: false,\n};\n\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.items = action.payload;\n      console.log('asas', action);\n    },\n    setIsAdded: (state, action) => {\n      state.isAdded = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = 'success';\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'loading';\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = 'error';\n    });\n  },\n});\n\nexport const { setItems, setIsAdded } = ProductSlice.actions;\nexport default ProductSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}