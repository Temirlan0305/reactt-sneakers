{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport let Status;\n\n(function (Status) {\n  Status[\"LOADING\"] = \"loading\";\n  Status[\"FULFILLED\"] = \"success\";\n  Status[\"REJECTED\"] = \"error\";\n})(Status || (Status = {}));\n\nexport const fetchProductBasket = createAsyncThunk('basketSlice/fetchProductBasket', async () => {\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nexport const addItems = createAsyncThunk('basketSlice/fetchProductBasket', async params => {\n  const obj = params;\n  axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nexport const delItems = createAsyncThunk('basketSlice/fetchProductBasket', async params => {\n  const id = params;\n  await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nconst initialState = {\n  basketItems: [],\n  basketStatus: Status.LOADING\n};\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.basketItems = action.payload;\n    } // addItems: (state, action) => {\n    //   const obj = action.payload;\n    //   axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n    //   state.basketItems.push(obj)\n    // },\n    // delItems: (state, action) => {\n    //   const id = action.payload;\n    // axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n    //   state.basketItems = state.basketItems.filter((item) => item.id !== id);\n    // },\n\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = Status.FULFILLED;\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.LOADING;\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.REJECTED;\n    });\n    builder.addCase(addItems.fulfilled, (state, action) => {\n      state.basketItems = action.payload;\n      state.basketStatus = Status.FULFILLED;\n    });\n    builder.addCase(addItems.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.LOADING; // state.basketItems.push(action.payload)\n\n      console.log('action.payload', action.payload);\n    });\n    builder.addCase(addItems.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.REJECTED;\n    }); // builder.addCase(delItems.fulfilled, (state, action: PayloadAction<productType[]>) => {\n    //   state.basketItems = action.payload;\n    //   state.basketStatus = Status.FULFILLED;\n    // });\n    // builder.addCase(delItems.pending, (state, action) => {\n    //   state.basketItems = [];\n    //   state.basketStatus = Status.LOADING;\n    // });\n    // builder.addCase(delItems.rejected, (state, action) => {\n    //   state.basketItems = [];\n    //   state.basketStatus = Status.REJECTED;\n    // });\n  }\n});\nexport const {\n  setItems\n} = ProductSlice.actions;\nexport const selectBasket = state => state.basket;\nexport default ProductSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Status","fetchProductBasket","data","get","addItems","params","obj","post","delItems","id","delete","initialState","basketItems","basketStatus","LOADING","ProductSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","fulfilled","FULFILLED","pending","rejected","REJECTED","console","log","actions","selectBasket","basket","reducer"],"sources":["/Users/temirlan.kanafin/Desktop/git projects/reactt-sneakers/src/components/redux/slices/basketSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { RootState } from '../store';\n\n\n\nexport type productType = {\n  id: string;\n  productId: number;\n  title: string;\n  imageURL: string;\n  text: string;\n  price: number\n}\n\nexport enum Status {\n  LOADING = 'loading',\n  FULFILLED = 'success',\n  REJECTED = 'error',\n}\n\ninterface ProductState {\n  basketItems: productType[];\n  basketStatus: Status.LOADING | Status.FULFILLED | Status.REJECTED\n}\nexport const fetchProductBasket = createAsyncThunk<productType[]>('basketSlice/fetchProductBasket', async () => {\n  const { data } = await axios.get<productType[]>('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\n\nexport const addItems = createAsyncThunk<productType[]>('basketSlice/fetchProductBasket', async (params) => {\n  const obj = params\n    axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n  const { data } = await axios.get<productType[]>('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nexport const delItems = createAsyncThunk<productType[]>('basketSlice/fetchProductBasket', async (params) => {\n  const id = params\n  await axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n  const { data } = await axios.get<productType[]>('https://62b1bba0196a9e98703c1172.mockapi.io/card');\n  return data;\n});\nconst initialState: ProductState = {\n  basketItems: [],\n  basketStatus: Status.LOADING,\n};\n\nexport const ProductSlice = createSlice({\n  name: 'product',\n  initialState: initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.basketItems = action.payload;\n    },\n    // addItems: (state, action) => {\n    //   const obj = action.payload;\n    //   axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/card', obj);\n    //   state.basketItems.push(obj)\n    // },\n    // delItems: (state, action) => {\n    //   const id = action.payload;\n      // axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/card/${id}`);\n    //   state.basketItems = state.basketItems.filter((item) => item.id !== id);\n    // },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchProductBasket.fulfilled, (state, action: PayloadAction<productType[]>) => {\n      state.basketItems = action.payload;\n      state.basketStatus = Status.FULFILLED;\n    });\n    builder.addCase(fetchProductBasket.pending, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.LOADING;\n    });\n    builder.addCase(fetchProductBasket.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.REJECTED;\n    });\n    builder.addCase(addItems.fulfilled, (state, action: PayloadAction<productType[]>) => {\n      state.basketItems = action.payload;\n      state.basketStatus = Status.FULFILLED;\n    });\n    builder.addCase(addItems.pending, (state, action: any) => {\n      state.basketItems = [];\n      state.basketStatus = Status.LOADING;\n      // state.basketItems.push(action.payload)\n      console.log('action.payload', action.payload)\n    });\n    builder.addCase(addItems.rejected, (state, action) => {\n      state.basketItems = [];\n      state.basketStatus = Status.REJECTED;\n    });\n    // builder.addCase(delItems.fulfilled, (state, action: PayloadAction<productType[]>) => {\n    //   state.basketItems = action.payload;\n    //   state.basketStatus = Status.FULFILLED;\n    // });\n    // builder.addCase(delItems.pending, (state, action) => {\n    //   state.basketItems = [];\n    //   state.basketStatus = Status.LOADING;\n    // });\n    // builder.addCase(delItems.rejected, (state, action) => {\n    //   state.basketItems = [];\n    //   state.basketStatus = Status.REJECTED;\n    // });\n  },\n});\n\nexport const { setItems } = ProductSlice.actions;\nexport const selectBasket = (state: RootState) => state.basket;\nexport default ProductSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}