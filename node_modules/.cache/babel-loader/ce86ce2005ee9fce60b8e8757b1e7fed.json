{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport let Status;\n\n(function (Status) {\n  Status[\"LOADING\"] = \"loading\";\n  Status[\"FULFILLED\"] = \"success\";\n  Status[\"REJECTED\"] = \"error\";\n})(Status || (Status = {}));\n\nexport const fetchProductFavourite = createAsyncThunk('favouriteSlice/fetchProductFavourite', async () => {\n  const {\n    data\n  } = await axios.get('https://62b1bba0196a9e98703c1172.mockapi.io/favorite');\n  return data;\n});\nconst initialState = {\n  favouriteItems: [],\n  favouriteStatus: Status.LOADING\n};\nexport const FavouriteSlice = createSlice({\n  name: 'favourite',\n  initialState: initialState,\n  reducers: {\n    setItemsFavourite: (state, action) => {\n      state.favouriteItems = action.payload;\n    },\n    addItemsFavourite: (state, action) => {\n      const obj = action.payload;\n\n      async function fetchAdd() {\n        state.favouriteItems.push(obj);\n        await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/favorite', obj);\n      }\n\n      fetchAdd();\n    },\n    delItemsFavourite: (state, action) => {\n      const id = action.payload;\n      state.favouriteItems = state.favouriteItems.filter(item => item.id !== id);\n      axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/favorite/${id}`);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProductFavourite.fulfilled, (state, action) => {\n      state.favouriteItems = action.payload;\n      state.favouriteStatus = Status.FULFILLED;\n    });\n    builder.addCase(fetchProductFavourite.pending, (state, action) => {\n      state.favouriteItems = [];\n      state.favouriteStatus = Status.LOADING;\n    });\n    builder.addCase(fetchProductFavourite.rejected, (state, action) => {\n      state.favouriteItems = [];\n      state.favouriteStatus = Status.REJECTED;\n    });\n  }\n});\nexport const {\n  setItemsFavourite,\n  addItemsFavourite,\n  delItemsFavourite\n} = FavouriteSlice.actions;\nexport const selectFavourite = state => state.favourite;\nexport default FavouriteSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","Status","fetchProductFavourite","data","get","initialState","favouriteItems","favouriteStatus","LOADING","FavouriteSlice","name","reducers","setItemsFavourite","state","action","payload","addItemsFavourite","obj","fetchAdd","push","post","delItemsFavourite","id","filter","item","delete","extraReducers","builder","addCase","fulfilled","FULFILLED","pending","rejected","REJECTED","actions","selectFavourite","favourite","reducer"],"sources":["/Users/temirlan.kanafin/Desktop/git projects/reactt-sneakers/src/components/redux/slices/favouriteSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { RootState } from '../store';\n\n\n\nexport type productType = {\n  id: string;\n  productId: number;\n  title: string;\n  imageURL: string;\n  text: string;\n  price: number\n}\n\nexport enum Status {\n  LOADING = 'loading',\n  FULFILLED = 'success',\n  REJECTED = 'error',\n}\n\ninterface ProductState {\n  favouriteItems: productType[];\n  favouriteStatus: Status.LOADING | Status.FULFILLED | Status.REJECTED;\n}\nexport const fetchProductFavourite = createAsyncThunk < productType[] > ('favouriteSlice/fetchProductFavourite', async () => {\n  const { data } = await axios.get < productType[] > ('https://62b1bba0196a9e98703c1172.mockapi.io/favorite');\n  return data;\n});\n\nconst initialState: ProductState = {\n  favouriteItems: [],\n  favouriteStatus: Status.LOADING,\n};\n\nexport const FavouriteSlice = createSlice({\n  name: 'favourite',\n  initialState: initialState,\n  reducers: {\n    setItemsFavourite: (state, action) => {\n      state.favouriteItems = action.payload;\n    },\n    addItemsFavourite: (state, action) => {\n      const obj = action.payload;\n      async function fetchAdd() {\n        state.favouriteItems.push(obj)\n        await axios.post('https://62b1bba0196a9e98703c1172.mockapi.io/favorite', obj);\n      }\n      fetchAdd()\n    },\n    delItemsFavourite: (state, action) => {\n      const id = action.payload;\n      state.favouriteItems = state.favouriteItems.filter((item) => item.id !== id);\n      axios.delete(`https://62b1bba0196a9e98703c1172.mockapi.io/favorite/${id}`);\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchProductFavourite.fulfilled, (state, action: PayloadAction<productType[]>) => {\n      state.favouriteItems = action.payload;\n      state.favouriteStatus = Status.FULFILLED;\n    });\n    builder.addCase(fetchProductFavourite.pending, (state, action) => {\n      state.favouriteItems = [];\n      state.favouriteStatus = Status.LOADING;\n    });\n    builder.addCase(fetchProductFavourite.rejected, (state, action) => {\n      state.favouriteItems = [];\n      state.favouriteStatus = Status.REJECTED;\n    });\n  }\n});\n\nexport const { setItemsFavourite, addItemsFavourite, delItemsFavourite } = FavouriteSlice.actions;\nexport const selectFavourite = (state: RootState) => state.favourite;\nexport default FavouriteSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA6D,kBAA7D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAcA,WAAYC,MAAZ;;WAAYA,M;EAAAA,M;EAAAA,M;EAAAA,M;GAAAA,M,KAAAA,M;;AAUZ,OAAO,MAAMC,qBAAqB,GAAGJ,gBAAgB,CAAoB,sCAApB,EAA4D,YAAY;EAC3H,MAAM;IAAEK;EAAF,IAAW,MAAMH,KAAK,CAACI,GAAN,CAA6B,sDAA7B,CAAvB;EACA,OAAOD,IAAP;AACD,CAHoD,CAA9C;AAKP,MAAME,YAA0B,GAAG;EACjCC,cAAc,EAAE,EADiB;EAEjCC,eAAe,EAAEN,MAAM,CAACO;AAFS,CAAnC;AAKA,OAAO,MAAMC,cAAc,GAAGV,WAAW,CAAC;EACxCW,IAAI,EAAE,WADkC;EAExCL,YAAY,EAAEA,YAF0B;EAGxCM,QAAQ,EAAE;IACRC,iBAAiB,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACpCD,KAAK,CAACP,cAAN,GAAuBQ,MAAM,CAACC,OAA9B;IACD,CAHO;IAIRC,iBAAiB,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MACpC,MAAMG,GAAG,GAAGH,MAAM,CAACC,OAAnB;;MACA,eAAeG,QAAf,GAA0B;QACxBL,KAAK,CAACP,cAAN,CAAqBa,IAArB,CAA0BF,GAA1B;QACA,MAAMjB,KAAK,CAACoB,IAAN,CAAW,sDAAX,EAAmEH,GAAnE,CAAN;MACD;;MACDC,QAAQ;IACT,CAXO;IAYRG,iBAAiB,EAAE,CAACR,KAAD,EAAQC,MAAR,KAAmB;MACpC,MAAMQ,EAAE,GAAGR,MAAM,CAACC,OAAlB;MACAF,KAAK,CAACP,cAAN,GAAuBO,KAAK,CAACP,cAAN,CAAqBiB,MAArB,CAA6BC,IAAD,IAAUA,IAAI,CAACF,EAAL,KAAYA,EAAlD,CAAvB;MACAtB,KAAK,CAACyB,MAAN,CAAc,wDAAuDH,EAAG,EAAxE;IACD;EAhBO,CAH8B;EAqBxCI,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgB1B,qBAAqB,CAAC2B,SAAtC,EAAiD,CAAChB,KAAD,EAAQC,MAAR,KAAiD;MAChGD,KAAK,CAACP,cAAN,GAAuBQ,MAAM,CAACC,OAA9B;MACAF,KAAK,CAACN,eAAN,GAAwBN,MAAM,CAAC6B,SAA/B;IACD,CAHD;IAIAH,OAAO,CAACC,OAAR,CAAgB1B,qBAAqB,CAAC6B,OAAtC,EAA+C,CAAClB,KAAD,EAAQC,MAAR,KAAmB;MAChED,KAAK,CAACP,cAAN,GAAuB,EAAvB;MACAO,KAAK,CAACN,eAAN,GAAwBN,MAAM,CAACO,OAA/B;IACD,CAHD;IAIAmB,OAAO,CAACC,OAAR,CAAgB1B,qBAAqB,CAAC8B,QAAtC,EAAgD,CAACnB,KAAD,EAAQC,MAAR,KAAmB;MACjED,KAAK,CAACP,cAAN,GAAuB,EAAvB;MACAO,KAAK,CAACN,eAAN,GAAwBN,MAAM,CAACgC,QAA/B;IACD,CAHD;EAID;AAlCuC,CAAD,CAAlC;AAqCP,OAAO,MAAM;EAAErB,iBAAF;EAAqBI,iBAArB;EAAwCK;AAAxC,IAA8DZ,cAAc,CAACyB,OAAnF;AACP,OAAO,MAAMC,eAAe,GAAItB,KAAD,IAAsBA,KAAK,CAACuB,SAApD;AACP,eAAe3B,cAAc,CAAC4B,OAA9B"},"metadata":{},"sourceType":"module"}